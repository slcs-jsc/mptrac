# KPP Chemical Integrator

This project uses the **Kinetic PreProcessor (KPP)** to solve chemical reaction systems. KPP is a widely used tool for generating code that integrates chemical reactions in atmospheric models. It converts chemical equations and mechanisms into optimized C or Fortran code that can be linked to large-scale models.

## Overview

The purpose of this repository is to provide a complete setup for solving chemical reaction systems using KPP. The primary files included are:

- `chem.eqn`: This file defines the chemical mechanism using a set of reactions.
- `chem.kpp`: The KPP input file used to generate the chemical solver code.
- `kpp_chem.h`: The header file containing the configuration and constants for the KPP-generated code.
- `Makefile`: The makefile to compile and build the chemical integration code.
- `build_KPP.sh`: A script to automate the process of building the KPP-generated code.

## Files and Their Roles

### 1. `chem.eqn`
This file contains the list of chemical reactions that define the chemical mechanism to be integrated. Each line in this file represents a chemical reaction, including the reactants, products, and reaction rates.

### 2. `chem.kpp`
This is the KPP mechanism file, which specifies the chemical species, parameters, and reactions. It is the primary input file used by KPP to generate the solver code.

### 3. `kpp_chem.h`
This header file defines key parameters, constants, and functions used in the KPP-generated code. It includes the species involved in the chemical reactions and additional configurations necessary for the solver.

### 4. `Makefile`
This is the build configuration file used to compile the C or Fortran code generated by KPP. It includes instructions for linking the necessary libraries and compiling the source files.

### 5. `build_KPP.sh`
This script automates the process of generating and compiling the KPP code. It runs the KPP preprocessor on the specified mechanism (`chem.kpp`), compiles the generated code, and builds the executable.

## Prerequisites

To use this project, the following software must be installed:

- **KPP (Kinetic PreProcessor)**: Make sure that KPP is installed and available in your systemâ€™s `PATH`. You can download it from the [official KPP website](https://people.cs.vt.edu/~asandu/Software/Kpp/).
- A C/C++ compiler (e.g., `gcc`, `clang`) or a Fortran compiler if using Fortran-generated code.
- Standard build tools such as `make` and `bash`.

## Installation

1. **Install KPP**: 
   Download and install the KPP preprocessor by following the instructions on the official KPP website.
   
2. **Clone this repository**:
   ```bash
   git clone https://github.com/your-username/kpp-chemical-integrator.git
   cd kpp-chemical-integrator

3. **Set up environment:**
  Ensure that KPP is installed and its path is set in your environment. For example:
  ```export PATH=/path/to/kpp:$PATH

## Usage

1. **Build the chemical integrator:**
  To build the solver using the KPP preprocessor, run the provided build_KPP.sh script. This will generate the necessary C or Fortran code and compile it:
  ```./build_KPP.sh

    The script will generate the chemical integration code from the chem.kpp and chem.eqn files, then compile it into an executable.

2. **Run the solver:** After compiling, you can run the executable to integrate the chemical reactions over time. The specific usage of the solver will depend on how the code is set up to take inputs for initial concentrations, integration time, etc.

3. **Modifying the chemical mechanism:** To modify the chemical reactions, edit the chem.eqn file. You can add, remove, or change the reactions and their rates. After modifying the file, run the build_KPP.sh script again to regenerate and recompile the solver code.

## Example

Here is an example of a chemical reaction that may be present in the chem.eqn file:

  ```O3 + NO -> NO2 + O2  ;  k1
  NO2 + hv -> NO + O    ;  J1

This represents two reactions:

1. Ozone (O3) reacts with nitrogen oxide (NO) to form nitrogen dioxide (NO2) and oxygen (O2), with a reaction rate k1.
2. Nitrogen dioxide (NO2) breaks down into nitrogen oxide (NO) and an oxygen atom (O) upon absorbing sunlight (denoted by hv), with a photolysis rate J1.

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

   - The Kinetic PreProcessor (KPP) team for providing an excellent tool for chemical mechanism integration.
   - [Your organization/university] for supporting this project.
